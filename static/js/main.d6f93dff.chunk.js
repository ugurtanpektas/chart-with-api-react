(this["webpackJsonpchart-with-api-react"]=this["webpackJsonpchart-with-api-react"]||[]).push([[0],{47:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),o=n(8),s=n(9),u=n(11),l=n(10),p=n(18),j=n(3),b=n(5),h=n(6);function d(e,t){return{type:e,payload:t}}var O=n(15),g=n.n(O),f=n(17),v=n(1),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){},e.handleLogin=function(){var t=Object(f.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.props.userAction("SET_LOGGED_IN",!0),sessionStorage.setItem("isLoggedIn",!0),e.props.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"login-container",children:Object(v.jsx)("form",{onSubmit:this.handleLogin,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"This is mock login. U can use any email and password for login"}),Object(v.jsx)("input",{type:"email",name:"email",placeholder:"Email address",required:!0}),Object(v.jsx)("input",{type:"password",name:"password",placeholder:"Password - 12345",required:!0}),Object(v.jsx)("button",{type:"submit",children:"Login"})]})})})}}]),n}(r.a.Component);var y=Object(h.b)((function(e){return{userState:e.users}}),(function(e){return Object(b.a)({userAction:d},e)}))(m);function x(e,t){return{type:e,payload:t}}function A(e,t){return{type:e,payload:t}}var L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleMobileMenu=function(t){e.props.generalAction("TOGGLE_MOBILE_MENU",!0)},e.logout=function(){e.props.userAction("SET_LOGGED_IN",!1),sessionStorage.setItem("isLoggedIn",!1)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"top-header",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"mobile-menu",onClick:this.toggleMobileMenu,children:Object(v.jsx)("i",{className:"fa fa-bars"})}),Object(v.jsx)("div",{className:"logo",children:"Chart Dashboard"})]}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"logout",onClick:this.logout,children:" Logout"})})]})}}]),n}(r.a.Component);var D=Object(h.b)((function(e){return{generalState:e.generals}}),(function(e){return Object(b.a)({generalAction:A,userAction:d},e)}))(L),M=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleMobileMenu=function(t){e.props.generalAction("TOGGLE_MOBILE_MENU",!0)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"sidebar ".concat(this.props.generalState.mobileMenuOpened?"open":""),children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsxs)(p.b,{to:"/",onClick:this.toggleMobileMenu,children:[Object(v.jsx)("i",{className:"fa fa-cloud"})," Daily Weather Forecast "]})}),Object(v.jsx)("li",{children:Object(v.jsxs)(p.b,{to:"/hourly",onClick:this.toggleMobileMenu,children:[Object(v.jsx)("i",{className:"fa fa-clock-o"})," Hourly Weather Forecast "]})})]})})}}]),n}(r.a.Component);var S=Object(h.b)((function(e){return{generalState:e.generals}}),(function(e){return Object(b.a)({generalAction:A},e)}))(M),E=n(21),T={apiUrl:"https://api.openweathermap.org/",apiKey:"697de474ea3fd0b3bcff994155b5e4b5",units:"metric",city:"Berlin"},I=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleMobileMenu=function(t){e.props.generalAction("TOGGLE_MOBILE_MENU",!0)},e.logout=function(){e.props.userAction("SET_LOGGED_IN",!1),sessionStorage.setItem("isLoggedIn",!1)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"overlay ".concat(this.props.generalState.mobileMenuOpened?"open":""),onClick:this.toggleMobileMenu})}}]),n}(r.a.Component);var N=Object(h.b)((function(e){return{generalState:e.generals}}),(function(e){return Object(b.a)({generalAction:A},e)}))(I),k={hAxis:{title:"Date"},vAxis:{title:"Temp. (Celsius)"}},w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.chartAction("LOADING",!0),e.next=3,fetch(T.apiUrl+"data/2.5/forecast?q="+T.city+"&appid="+T.apiKey+"&units="+T.units);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=[[{type:"date",label:"Day"},"Temp (C)"]],n.list.forEach((function(e){var t=[new Date(1e3*e.dt),e.main.temp];a.push(t)})),this.props.chartAction("SET_DAILY_DATA",a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return e=this.props.chartState.loading?Object(v.jsx)("div",{className:"loading",children:" Loading..."}):Object(v.jsx)(E.a,{chartType:"LineChart",data:this.props.chartState.dailyData,options:k,width:"100%",height:"400px",controls:[{controlType:"DateRangeFilter",options:{filterColumnLabel:"Day",ui:{format:{pattern:"dd"}}}}]}),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(D,{}),Object(v.jsx)(S,{}),Object(v.jsxs)("div",{className:"main",children:[Object(v.jsx)("h1",{children:"Daily Temp. in Berlin"}),e]}),Object(v.jsx)(N,{})]})}}]),n}(r.a.Component);var _=Object(h.b)((function(e){return{userState:e.users,chartState:e.charts}}),(function(e){return Object(b.a)({userAction:d,chartAction:x},e)}))(w),C={hAxis:{title:"Date"},vAxis:{title:"Temp. (Celsius)"}},G=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.chartAction("LOADING",!0),e.next=3,fetch(T.apiUrl+"data/2.5/onecall?lat=52.520008&lon=13.404954&appid="+T.apiKey+"&units="+T.units+"&exclude=daily,minutely,daily,alerts");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=[[{type:"date",label:"Hour"},"Temp (C)","Feels Like"]],n.hourly.forEach((function(e){var t=[new Date(1e3*e.dt),e.temp,e.feels_like];a.push(t)})),this.props.chartAction("SET_HOURLY_DATA",a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return e=this.props.chartState.loading?Object(v.jsx)("div",{className:"loading",children:" Loading..."}):Object(v.jsx)(E.a,{chartType:"LineChart",data:this.props.chartState.hourlyData,options:C,width:"100%",height:"400px",legendToggle:!0}),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(D,{}),Object(v.jsx)(S,{}),Object(v.jsxs)("div",{className:"main",children:[Object(v.jsx)("h1",{children:"Hourly Temp. in Berlin"}),e]}),Object(v.jsx)(N,{})]})}}]),n}(r.a.Component);var U=Object(h.b)((function(e){return{userState:e.users,chartState:e.charts,generalState:e.generals}}),(function(e){return Object(b.a)({userAction:d,chartAction:x,generalAction:A},e)}))(G),B=n(4),F=n(31),H=function(e){var t=e.component,n=e.authed,a=Object(F.a)(e,["component","authed"]);return Object(v.jsx)(j.b,Object(B.a)(Object(B.a)({},a),{},{render:function(e){return!0===n||"true"===sessionStorage.getItem("isLoggedIn")?Object(v.jsx)(t,Object(B.a)({},e)):Object(v.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(v.jsx)(p.a,{basename:"/chart-with-api-react",children:Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(j.b,{path:"/login",component:y}),Object(v.jsx)(H,{authed:this.props.userState.isLoggedIn,exact:!0,path:"/",component:_}),Object(v.jsx)(H,{authed:this.props.userState.isLoggedIn,exact:!0,path:"/hourly",component:U})]})})}}]),n}(r.a.Component);var q=Object(h.b)((function(e){return{userState:e.users}}),(function(e){return Object(b.a)({userAction:d},e)}))(Y),K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},P={hourlyData:[],dailyData:[],loading:!0};var R={email:null,isLoggedIn:!1,loading:!0};var J={mobileMenuOpened:!1};var W=Object(b.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case"SET_EMAIL":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,email:t.payload});case"SET_LOGGED_IN":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,isLoggedIn:t.payload});default:return e}},charts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case"SET_DAILY_DATA":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,dailyData:t.payload});case"SET_HOURLY_DATA":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,hourlyData:t.payload});default:return e}},generals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_MOBILE_MENU":return Object(B.a)(Object(B.a)({},e),{},{mobileMenuOpened:!e.mobileMenuOpened});default:return e}}}),z=(n(47),n(48),Object(b.c)(W));i.a.render(Object(v.jsx)(h.a,{store:z,children:Object(v.jsx)(q,{})}),document.getElementById("root")),K()}},[[49,1,2]]]);
//# sourceMappingURL=main.d6f93dff.chunk.js.map