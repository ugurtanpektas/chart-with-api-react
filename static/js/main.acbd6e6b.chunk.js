(this["webpackJsonpchart-with-api-react"]=this["webpackJsonpchart-with-api-react"]||[]).push([[0],{47:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),o=n(10),s=n(11),u=n(13),l=n(12),p=n(18),j=n(3),d=n(5),h=n(7);function b(e,t){return{type:e,payload:t}}var O=n(15),f=n.n(O),g=n(17),m=n(1),v=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){},e.handleLogin=function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.props.userAction("SET_LOGGED_IN",!0),sessionStorage.setItem("isLoggedIn",!0),e.props.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"login-container",children:Object(m.jsx)("form",{onSubmit:this.handleLogin,children:Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"This is mock login. U can use any email and password for login"}),Object(m.jsx)("input",{type:"email",name:"email",placeholder:"Email address",required:!0}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:"Password - 12345",required:!0}),Object(m.jsx)("button",{type:"submit",children:"Login"})]})})})}}]),n}(r.a.Component);var y=Object(h.b)((function(e){return{userState:e.users}}),(function(e){return Object(d.a)({userAction:b},e)}))(v);function x(e,t){return{type:e,payload:t}}function A(e,t){return{type:e,payload:t}}var D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleMobileMenu=function(t){e.props.generalAction("TOGGLE_MOBILE_MENU",!0)},e.logout=function(){e.props.userAction("SET_LOGGED_IN",!1),sessionStorage.setItem("isLoggedIn",!1)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"top-header",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"mobile-menu",onClick:this.toggleMobileMenu,children:Object(m.jsx)("i",{className:"fa fa-bars"})}),Object(m.jsx)("div",{className:"logo",children:"Chart Dashboard"})]}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"logout",onClick:this.logout,children:" Logout"})})]})}}]),n}(r.a.Component);var L=Object(h.b)((function(e){return{generalState:e.generals}}),(function(e){return Object(d.a)({generalAction:A,userAction:b},e)}))(D),S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"sidebar ".concat(this.props.generalState.mobileMenuOpened?"open":""),children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsxs)(p.b,{to:"/",children:[Object(m.jsx)("i",{className:"fa fa-cloud"})," Daily Weather Forecast "]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(p.b,{to:"/hourly",children:[Object(m.jsx)("i",{className:"fa fa-clock-o"})," Hourly Weather Forecast "]})})]})})}}]),n}(r.a.Component);var T=Object(h.b)((function(e){return{generalState:e.generals}}),(function(e){return Object(d.a)({generalAction:A},e)}))(S),N=n(21),w={apiUrl:"http://api.openweathermap.org/",apiKey:"697de474ea3fd0b3bcff994155b5e4b5",units:"metric",city:"Berlin"},I={hAxis:{title:"Date"},vAxis:{title:"Temp. (Celsius)"}},k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.chartAction("LOADING",!0),e.next=3,fetch(w.apiUrl+"data/2.5/forecast?q="+w.city+"&appid="+w.apiKey+"&units="+w.units);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=[[{type:"date",label:"Day"},"Temp (C)"]],n.list.forEach((function(e){var t=[new Date(1e3*e.dt),e.main.temp];a.push(t)})),this.props.chartAction("SET_DAILY_DATA",a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return e=this.props.chartState.loading?Object(m.jsx)("div",{className:"loading",children:" Loading..."}):Object(m.jsx)(N.a,{chartType:"LineChart",data:this.props.chartState.dailyData,options:I,width:"100%",height:"400px",controls:[{controlType:"DateRangeFilter",options:{filterColumnLabel:"Day",ui:{format:{pattern:"dd"}}}}]}),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(L,{}),Object(m.jsx)(T,{}),Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)("h1",{children:"Daily Temp. in Berlin"}),e]})]})}}]),n}(r.a.Component);var E=Object(h.b)((function(e){return{userState:e.users,chartState:e.charts}}),(function(e){return Object(d.a)({userAction:b,chartAction:x},e)}))(k),_={hAxis:{title:"Date"},vAxis:{title:"Temp. (Celsius)"}},C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.chartAction("LOADING",!0),e.next=3,fetch(w.apiUrl+"data/2.5/onecall?lat=52.520008&lon=13.404954&appid="+w.apiKey+"&units="+w.units+"&exclude=daily,minutely,daily,alerts");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=[[{type:"date",label:"Hour"},"Temp (C)","Feels Like"]],n.hourly.forEach((function(e){var t=[new Date(1e3*e.dt),e.temp,e.feels_like];a.push(t)})),this.props.chartAction("SET_HOURLY_DATA",a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return e=this.props.chartState.loading?Object(m.jsx)("div",{className:"loading",children:" Loading..."}):Object(m.jsx)(N.a,{chartType:"LineChart",data:this.props.chartState.hourlyData,options:_,width:"100%",height:"400px",legendToggle:!0}),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(L,{}),Object(m.jsx)(T,{}),Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)("h1",{children:"Hourly Temp. in Berlin"}),e]})]})}}]),n}(r.a.Component);var M=Object(h.b)((function(e){return{userState:e.users,chartState:e.charts}}),(function(e){return Object(d.a)({userAction:b,chartAction:x},e)}))(C),G=n(4),F=n(31),U=function(e){var t=e.component,n=e.authed,a=Object(F.a)(e,["component","authed"]);return Object(m.jsx)(j.b,Object(G.a)(Object(G.a)({},a),{},{render:function(e){return!0===n||"true"===sessionStorage.getItem("isLoggedIn")?Object(m.jsx)(t,Object(G.a)({},e)):Object(m.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},B=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(m.jsx)(p.a,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(j.b,{path:"/login",component:y}),Object(m.jsx)(U,{authed:this.props.userState.isLoggedIn,exact:!0,path:"/",component:E}),Object(m.jsx)(U,{authed:this.props.userState.isLoggedIn,exact:!0,path:"/hourly",component:M})]})})}}]),n}(r.a.Component);var H=Object(h.b)((function(e){return{userState:e.users}}),(function(e){return Object(d.a)({userAction:b},e)}))(B),Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},q={hourlyData:[],dailyData:[],loading:!0};var K={email:null,isLoggedIn:!1,loading:!0};var P={mobileMenuOpened:!1};var R=Object(d.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case"SET_EMAIL":return Object(G.a)(Object(G.a)({},e),{},{loading:!1,email:t.payload});case"SET_LOGGED_IN":return Object(G.a)(Object(G.a)({},e),{},{loading:!1,isLoggedIn:t.payload});default:return e}},charts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case"SET_DAILY_DATA":return Object(G.a)(Object(G.a)({},e),{},{loading:!1,dailyData:t.payload});case"SET_HOURLY_DATA":return Object(G.a)(Object(G.a)({},e),{},{loading:!1,hourlyData:t.payload});default:return e}},generals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_MOBILE_MENU":return Object(G.a)(Object(G.a)({},e),{},{mobileMenuOpened:!e.mobileMenuOpened});default:return e}}}),J=(n(47),n(48),Object(d.c)(R));i.a.render(Object(m.jsx)(h.a,{store:J,children:Object(m.jsx)(H,{})}),document.getElementById("root")),Y()}},[[49,1,2]]]);
//# sourceMappingURL=main.acbd6e6b.chunk.js.map